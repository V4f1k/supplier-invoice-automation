# Invoice OCR & AI Extraction Service Architecture Document

## Table of Contents

- [Invoice OCR & AI Extraction Service Architecture Document](#table-of-contents)
  - [1. Introduction](./1-introduction.md)
    - [1.1. Starter Template or Existing Project](./1-introduction.md#11-starter-template-or-existing-project)
    - [1.2. Change Log](./1-introduction.md#12-change-log)
  - [2. High Level Architecture](./2-high-level-architecture.md)
    - [2.1. Technical Summary](./2-high-level-architecture.md#21-technical-summary)
    - [2.2. High Level Overview](./2-high-level-architecture.md#22-high-level-overview)
    - [2.3. High Level Project Diagram](./2-high-level-architecture.md#23-high-level-project-diagram)
    - [2.4. Architectural and Design Patterns](./2-high-level-architecture.md#24-architectural-and-design-patterns)
  - [3. Tech Stack](./3-tech-stack.md)
    - [3.1. Cloud Infrastructure](./3-tech-stack.md#31-cloud-infrastructure)
    - [3.2. Technology Stack Table](./3-tech-stack.md#32-technology-stack-table)
  - [4. Data Models](./4-data-models.md)
    - [4.1. Supplier](./4-data-models.md#41-supplier)
    - [4.2. Customer](./4-data-models.md#42-customer)
    - [4.3. Invoice](./4-data-models.md#43-invoice)
    - [4.4. Totals](./4-data-models.md#44-totals)
    - [4.5. Item](./4-data-models.md#45-item)
    - [4.6. InvoiceData (Root Model)](./4-data-models.md#46-invoicedata-root-model)
  - [5. Components](./5-components.md)
    - [5.1. API Handler ()](./5-components.md#51-api-handler)
    - [5.2. Configuration Service ()](./5-components.md#52-configuration-service)
    - [5.3. OCR Service ()](./5-components.md#53-ocr-service)
    - [5.4. AI Service ()](./5-components.md#54-ai-service)
    - [5.5. Cache Service ()](./5-components.md#55-cache-service)
    - [5.6. Prompt Manager ()](./5-components.md#56-prompt-manager)
  - [6. External APIs](./6-external-apis.md)
    - [6.1. Google Gemini API](./6-external-apis.md#61-google-gemini-api)
  - [7. Core Workflows](./7-core-workflows.md)
    - [7.1. Invoice Extraction (Cache Miss)](./7-core-workflows.md#71-invoice-extraction-cache-miss)
  - [8. REST API Spec](./8-rest-api-spec.md)
  - [9. Database Schema](./9-database-schema.md)
    - [9.1. Redis Cache Structure](./9-database-schema.md#91-redis-cache-structure)
  - [10. Source Tree](./10-source-tree.md)
  - [11. Infrastructure and Deployment](./11-infrastructure-and-deployment.md)
    - [11.1. Infrastructure as Code](./11-infrastructure-and-deployment.md#111-infrastructure-as-code)
    - [11.2. Deployment Strategy](./11-infrastructure-and-deployment.md#112-deployment-strategy)
    - [11.3. Environments](./11-infrastructure-and-deployment.md#113-environments)
    - [11.4. Environment Promotion Flow](./11-infrastructure-and-deployment.md#114-environment-promotion-flow)
    - [11.5. Rollback Strategy](./11-infrastructure-and-deployment.md#115-rollback-strategy)
  - [12. Error Handling Strategy](./12-error-handling-strategy.md)
    - [12.1. General Approach](./12-error-handling-strategy.md#121-general-approach)
    - [12.2. Logging Standards](./12-error-handling-strategy.md#122-logging-standards)
    - [12.3. Error Handling Patterns](./12-error-handling-strategy.md#123-error-handling-patterns)
  - [13. Coding Standards](./13-coding-standards.md)
    - [13.1. Core Standards](./13-coding-standards.md#131-core-standards)
    - [13.2. Naming Conventions](./13-coding-standards.md#132-naming-conventions)
    - [13.3. Critical Rules](./13-coding-standards.md#133-critical-rules)
  - [14. Test Strategy and Standards](./14-test-strategy-and-standards.md)
    - [14.1. Testing Philosophy](./14-test-strategy-and-standards.md#141-testing-philosophy)
    - [14.2. Test Types and Organization](./14-test-strategy-and-standards.md#142-test-types-and-organization)
  - [15. Security](./15-security.md)
    - [15.1. Input Validation](./15-security.md#151-input-validation)
    - [15.2. Secrets Management](./15-security.md#152-secrets-management)
    - [15.3. API Security](./15-security.md#153-api-security)
    - [15.4. Dependency Security](./15-security.md#154-dependency-security)
  - [16. Checklist Results Report](./16-checklist-results-report.md)
  - [17. Next Steps](./17-next-steps.md)
